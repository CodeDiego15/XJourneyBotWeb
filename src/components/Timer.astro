---
const TIMESTAMP_END = 1719898223
---
<section class="my-32 flex flex-col gap-y-10 justify-center items-center">

    <img class="size-20 rounded-xl" src="./descarga.gif" alt="">

    <div class="text-white" data-date={TIMESTAMP_END}>
    <div > 
        <span data-days>00</span>
        <span>Dias</span>
       
    </div>
    <div >
        <span data-hours>00</span>
        <span >Horas</span>
        
    </div>
    <div >
        <span data-minutes>00</span>
        <span>Minutos</span>
        
    </div>
    <div> 
        <span data-seconds>00</span>
        <span >Segundos</span>
       
    </div>
</div>

</section>


<script>
    const SECOND = 1000
    const MINUTE = SECOND * 60
    const HOUR = MINUTE * 60
    const DAY = HOUR * 24

    function init(){
        
        const $countdate = document.querySelector('[data-date]')
        if(!$countdate) return

        const $days = document.querySelector('[data-days]')
        const $hours = document.querySelector('[data-hours]')
        const $minutes = document.querySelector('[data-minutes]')
        const $seconds = document.querySelector('[data-seconds]')

        const timestamp = $countdate.getAttribute('data-date')
        if(!timestamp) return
        const date = new Date(+timestamp).getTime()
        const fornatTime = (time: number) => {
            return Math.floor(time).toString().padStart(2, "0")
        } 


        function updateCountDown(){
            const now = Date.now()
            const diff = date - now

            if($days instanceof HTMLElement){
                $days.innerText = fornatTime(diff / DAY)
            }
            if($hours instanceof HTMLElement){
                $hours.innerText = fornatTime((diff % DAY) / HOUR)
            }
            if($minutes instanceof HTMLElement){
                $minutes.innerText = fornatTime((diff % HOUR) / MINUTE)
            }
            if($seconds instanceof HTMLElement){
                $seconds.innerText = fornatTime((diff % MINUTE) / SECOND)
            }
            

        }

        setInterval(updateCountDown, SECOND)
        
        }
    init()
    
</script>